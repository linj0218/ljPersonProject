<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>测试跨域</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="title" content="" />
    <meta name="author" content="-06" />
    <meta name="Copyright" content="" />
    <!-- 让IE浏览器用最高级内核渲染页面 还有用 Chrome 框架的页面用webkit 内核
    ================================================== -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!-- IOS6全屏 Chrome高版本全屏
    ================================================== -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <!-- 让360双核浏览器用webkit内核渲染页面
    ================================================== -->
    <meta name="renderer" content="webkit">
    <!-- Mobile Specific Metas
    ================================================== -->
    <!-- !!!注意 minimal-ui 是IOS7.1的新属性，最小化浏览器UI -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    <meta name="format-detection" content="telephone=no">
    <!-- 启用360浏览器的极速模式(webkit) -->
    <meta name="renderer" content="webkit">
    <!-- 避免IE使用兼容模式 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 -->
    <meta name="HandheldFriendly" content="true">
    <!-- 微软的老式浏览器 -->
    <meta name="MobileOptimized" content="320">
    <!-- uc强制竖屏 -->
    <meta name="screen-orientation" content="portrait">
    <!-- QQ强制竖屏 -->
    <meta name="x5-orientation" content="portrait">
    <!-- UC强制全屏 -->
    <meta name="full-screen" content="yes">
    <!-- QQ强制全屏 -->
    <meta name="x5-fullscreen" content="true">
    <!-- UC应用模式 -->
    <meta name="browsermode" content="application">
    <!-- QQ应用模式 -->
    <meta name="x5-page-mode" content="app">
    <!-- windows phone 点击无高光 -->
    <meta name="msapplication-tap-highlight" content="no">

    <script src="./js/jquery.min.js"></script>
    <style>
        *{
            margin:0;
            padding:0;
        }
        html,body{
            font-size:16px;
            background: #F0EFF5;
        }

        @media only screen and (min-device-width:320px) and (max-device-width:330px){
        }
        @media only screen and (min-device-width:330px) and (max-device-width:350px){
        }
        @media only screen and (min-device-width:350px) and (max-device-width:375px){
        }
        @media only screen and (min-device-width:376px) and (max-device-width:440px){
        }
    </style>
</head>
<body>
    <button id="test-btn">click</button>
</body>
<script>
    var APIROOT = "http://127.0.0.1:8080/";
    var mObj = function(){
        this.testBtn = document.getElementById("test-btn");
    };
    mObj.prototype = {
        init : function(){
            this.eventBind();
        },
        initPage : function(){

        },
        eventBind : function(){
            this.testBtn.onclick = function(){
                var reqData = {"test":"test"};
                $.ajax({
                    type        : 'GET',
                    url         : APIROOT,
                    data        : {"data":JSON.stringify(reqData)},
                    dataType    : 'jsonp',
                    jsonp       : 'jsoncallback',
                    cache       : false,
                    timeout     : 5000,
                    contentType : "application/json; charset/utf-8",
                    success     : function (result) {
                        console.log(result);
                    },
                    error       : function(err){
                        console.log(err);
                    }
                });
            }
        }
    };
    var mainObj = new mObj();
    mainObj.init();
</script>
</html>

